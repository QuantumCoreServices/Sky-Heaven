<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE article PUBLIC "-//OASIS//DTD DocBook XML V4.1.2//EN" "http://www.oasis-open.org/docbook/xml/4.1.2/docbookx.dtd" [
<!ENTITY legal SYSTEM "legal.xml">
<!ENTITY version "2.26.0">
<!ENTITY date "02/10/2009">
<!ENTITY mdash "&#8212;">
<!ENTITY percnt "&#x0025;">
]>
<article id="index" lang="gdm-uk">
  <articleinfo>
    <title>Посібник з менеджера дисплеїв середовища Gnome</title>

    <revhistory>
      <revision><revnumber>0.0</revnumber> <date>2008-09</date></revision>
    </revhistory>

    <abstract role="description">
      <para>GDM - менеджер дисплеїв GNOME, графічна програма входу у сеанс.</para>
    </abstract>

    <authorgroup>
      <author><firstname>Martin</firstname><othername>K.</othername> <surname>Petersen</surname> <affiliation> <address><email>mkp@mkp.net</email></address> </affiliation></author>
      <author><firstname>George</firstname><surname>Lebl</surname> <affiliation> <address><email>jirka@5z.com</email></address> </affiliation></author>
      <author><firstname>Jon</firstname><surname>McCann</surname> <affiliation> <address><email>mccann@jhu.edu</email></address> </affiliation></author>
      <author><firstname>Ray</firstname><surname>Strode</surname> <affiliation> <address><email>rstrode@redhat.com</email></address> </affiliation></author>
      <author role="maintainer"><firstname>Brian</firstname><surname>Cameron</surname> <affiliation> <address><email>Brian.Cameron@Oracle.COM</email></address> </affiliation></author>
    </authorgroup>
    <copyright><year>1998</year> <year>1999</year> <holder>Martin K. Petersen</holder></copyright>
    <copyright><year>2001</year> <year>2003</year> <year>2004</year> <holder>George Lebl</holder></copyright>
    <copyright><year>2003</year> <year>2007</year> <year>2008</year> <holder>Red Hat, Inc.</holder></copyright>
    <copyright><year>2003</year> <year>2011</year> <holder>Oracle і/або афілейовані особи. Усі права застережено.</holder></copyright>

    

    <releaseinfo>У посібнику описується менеджер дисплеїв середовища Gnome версії 2.26.0. Останній раз оновлювався 02 жовтня 2009 року.</releaseinfo>  
  
    <othercredit class="translator">
      <personname>
        <firstname>Максим Дзюманенко</firstname>
      </personname>
      <email>dziumanenko@gmail.com</email>
    </othercredit>
    <copyright>
      
        <year>2004</year>
      
        <year>2006</year>
      
      <holder>Максим Дзюманенко</holder>
    </copyright>
  
    <othercredit class="translator">
      <personname>
        <firstname>Юрій Чорноіван</firstname>
      </personname>
      <email>yurchor@ukr.net</email>
    </othercredit>
    <copyright>
      
        <year>2020</year>
      
      <holder>Юрій Чорноіван</holder>
    </copyright>
  </articleinfo>

  <!-- ============= Preface ================================== -->

  <sect1 id="preface">
    <title>Терміни та домовленості використані у цьому посібнику</title>

    <para>У посібнику описується менеджер дисплеїв середовища Gnome версії 2.26.0. Останній раз оновлювався 02 жовтня 2009 року.</para>  

    <para>Селектор - програма, що використовується для керування дисплеєм віддаленого вузла з приєднаного дисплея (<command>gdm-host-chooser</command>).</para>

    <para>FreeDesktop — організація, яка надає стандарти стільничного середовища, зокрема специфікацію стільничних записів, яку використано у GDM. <ulink type="http" url="http://www.freedesktop.org/"> http://www.freedesktop.org</ulink>.</para>
    <para>GDM - менеджер дисплеїв середовища GNOME (Gnome Display Manager). Назва використовується при посиланні на програмний пакет взагалі.</para>

    <para>Програма привітання - графічне вікно входу (його роботу забезпечує <command>gnome-shell</command>).</para>

    <para>PAM - механізм модульної автентифікації</para>

    <para>XDMCP - протокол керування дисплеєм X</para>

    <para>Xserver — реалізація системи вікон X. Наприклад, Xorg з Xserver, який надається X.org Foundation <ulink type="http" url="http://www.x.org/">http://www.x.org</ulink>.</para>

    <para>Шляхи, які починаються зі слова у кутових дужках, є відносними щодо префікса встановлення. Тобто <filename>&lt;share&gt;/pixmaps/</filename> позначає <filename>/usr/share/pixmaps</filename>, якщо GDM було налаштовано з <command>--prefix=/usr</command>.</para>
  </sect1>

  <!-- ============= Overview ================================= -->

  <sect1 id="overview">
    <title>Огляд</title>

    <sect2 id="introduction">
      <title>Введення</title>

      <para>GDM - менеджер дисплею для GNOME, у якому реалізовано більшість функцій, що вимагаються для керування локальними та віддаленими дисплеями. GDM створено "з чистого аркуша" та він не містить оригінального коду XDM / X Consortium.</para>

      <para>Зауважте, що GDM є придатним до налаштовування, а багато параметрів налаштувань стосуються захисту системи. Проблеми, на які слід звернути увагу, висвітлено у цьому документі.</para> 

      <para>Будь ласка, зверніть увагу на те, що у деяких операційних системах GDM налаштовано на поведінку, які відрізняється від типових значень, які описано у цьому документі. Якщо GDM поводить себе не так, як документовано, вам слід перевірити, чи відрізняються відповідні налаштування від описаних тут.</para>

      <para>Щоб дізнатися більше про GDM, зверніться до сайта проєкту на <ulink type="http" url="http://wiki.gnome.org/Projects/GDM/">http://wiki.gnome.org/Projects/GDM</ulink>.</para>

      <para>Якщо хочете обговорити щось щодо GDM або маєте запити щодо можливостей, надішліть повідомлення до списку листування <address><email>gdm-list@gnome.org</email></address>. Для цього списку ведеться архів — вам варто пошукати відповіді на типові питання у цьому архіві. З архівом списку листування можна ознайомитися <ulink type="http" url="http://mail.gnome.org/archives/gdm-list/">тут</ulink>. Передбачено можливості пошуку повідомлень за ключовими словами.</para>

      <para>Будь ласка, надсилайте усі звіти щодо вад і пропозиції щодо удосконалення до категорії «gdm» на сайті <ulink type="http" url="http://bugzilla.gnome.org/">http://bugzilla.gnome.org</ulink>.</para>
    </sect2>

    <sect2 id="stability">
      <title>Стабільність інтерфейсу</title>

      <para>У GDM 2.20 і попередніх версіях підтримувалася стабільність інтерфейсів налаштувань. Втім, у версії GDM 2.22 код було повністю переписано — його повну сумісність із попередніми версіями було втрачено. Почасти, причиною цього є те, що він працює інакше, отже деякі параметри втратили сенс, деякі ніколи не мали сенсу, а функціональні можливості, які було пов'язано із деякими параметрами, ще не було реалізовано.</para>

      <para>Стабільними інтерфейсами, підтримку яких продовжено, є Init, PreSession, PostSession, PostLogin та скрипти Xsession. Продовжено підтримку деяких параметрів налаштувань у файлі <filename>&lt;etc&gt;/gdm/custom.conf</filename>. Крім того, продовжено підтримку <filename>~/.dmrc</filename> та каталогів зображень облич.</para>

      <para>У GDM 2.20 та попередніх версіях було передбачено можливість керувати декількома дисплеями із окремими графічними картками, такими, які використовуються у середовищах термінальних серверів, вхід у вікні за допомогою програми, подібної до Xnest або Xephyr, програма gdmsetup, теми вітання на основі XML та можливість запускати засіб вибору XDMCP з вікна вітання. Ці можливості не було додано під час переписування у версії 2.22.</para>

    </sect2>

    <sect2 id="functionaldesc">
      <title>Функціональний опис</title>

<!--
<para>
        TODO - Would be good to discuss D-Bus, perhaps the new GObject model,
               and to explain the reasons why the rewrite made GDM better.
               From a high-level overview perspective, rather than the
               technical aspects.
</para>
-->

      <para>GDM відповідає за керування дисплеями у системі. Це стосується розпізнавання користувачів, запуску сеансів користувачів та переривання сеансів користувачів. GDM можна налаштовувати. Способи налаштовування описано у розділі «Налаштовування GDM» цього документа. Крім того, у GDM передбачено засоби доступності для користувачів із обмеженими можливостями.</para>

      <para>GDM надає можливість керувати дисплеєм головної консолі та дисплеями, які запущено за допомогою віртуальних терміналів. Його інтегровано із іншими програмами, зокрема Fast User Switch Applet (FUSA) та gnome-screensaver для керування декількома дисплеями на консолі за допомогою інтерфейсу віртуального термінала Xserver. Він також може керувати дисплеями XDMCP.</para>

      <para>Незалежно від типу дисплея, GDM виконує описані такі дій при керуванні дисплеєм: запускає процес Xserver, далі запускає скрипт <filename>Init</filename> від імені користувача root і запускає програму вітання на дисплеї.</para>

      <para>Програма вітання запускається від імені непривілейованих користувача і групи «gdm». Цього користувача і групу описано у розділі «Безпека» цього підручника. Основним призначенням програми вітання є надання механізму вибору облікового запису для входу до системи і ведення діалогу між користувачем і системою при розпізнаванні для входу до цього облікового запису. За процес розпізнавання відповідають вставні модулі розпізнавання (PAM). Модулі PAM визначають, які запити буде показано користувачеві для розпізнавання і чи взагалі буде показано якісь запити. У типовій системі програма вітання попросить ввести для розпізнавання ім'я користувача і пароль. Втім, деякі системи може бути налаштовано на використання додаткових механізмів, зокрема відбитків пальців або карток SmartCard. GDM може бути налаштовано на підтримку цих альтернатив паралельно до розширень входу до системи програми вітання за допомогою параметра <command>--enable-split-authentication</command> скрипту <filename>./configure</filename> або одного зі способів за допомогою налаштувань загальносистемних PAM.</para>

      <para>Розширення для роботи зі смарт-картками можна увімкнути або вимкнути за допомогою ключа gsettings <filename>org.gnome.display-manager.extensions.smartcard.active</filename>.</para>

      <para>Так само, розширення для роботи із відбитками пальців можна увімкнути або вимкнути за допомогою ключа gsettings <filename>orggnome.display-manager.extensions.fingerprint.active</filename>.</para>

      <para>GDM і PAM можна налаштувати так, щоб вхід до системи не обумовлювався ніякими діями користувача, тобто GDM виконував автоматичних вхід до системи і просто розпочинав сеанс — це може бути корисним для деяких середових, зокрема систем із одним користувачем або електронних кіосків.</para>

      <para>Окрім розпізнавання, програма вітання надає користувачеві можливість вибрати, який з сеансів слід розпочати і якою мовою інтерфейсу слід користуватися. Сеанси визначаються файлами із суфіксом назви .desktop. Докладніші відомості щодо цих файлів можна знайти у розділі «Налаштовування сеансу користувача і мови GDM» цього підручника. Типово, GDM налаштовано на показ навігатора обличчями, за допомогою якого користувач може вибрати свій обліковий запис натисканням зображення, замість введення свого імені користувача. GDM стежить за типовим сеансом і мовою інтерфейсу користувача за допомогою файла <filename>~/.dmrc</filename> і використає типові значення, якщо користувач не вибере сеансу або мови у графічному інтерфейсі для входу до системи.</para>

      <para>Після розпізнавання користувача фонова служба запускає скрипт <filename>PostLogin</filename> від імені користувача root, потім запускає скрипт <filename>PreSession</filename> від імені користувача root. Після завершення роботи цих скриптів буде запущено сеанс користувача. Якщо користувач вийде з сеансу, буде запущено скрипт <filename>PostSession</filename> від імені користувача root. Це скрипти призначено для налаштовування авторами дистрибутивів та кінцевими користувачами керування сеансами. Наприклад, за допомогою цих скриптів ви можете налаштувати машину, яка створюватиме «на льоту» каталог користувача $HOME і витиратиме його після виходу з системи.. Різниця між скриптами <filename>PostLogin</filename> і <filename>PreSession</filename> полягає у тому, що <filename>PostLogin</filename> запускається до виклику pam_open_session, тому це саме те місце, у якому слід визначати усе, що має бути запущено до того, як буде ініціалізовано сеанс користувача. Скрипт <filename>PreSession</filename> буде викликано після ініціалізації сеансу.</para>
    </sect2>

    <sect2 id="greeterpanel">
      <title>Панель вітання</title>
      <para>Програма вітання GDM показує панель, яку пришвартовано у нижній частині екрана і яка надає у ваше розпорядження додаткові функціональні можливості. Якщо вибрано користувача, панель надає змогу користувачеві вибрати, який сеанс, мову і розкладку клавіатури слід використовувати після входу до системи. Засіб вибору розкладки клавіатури змінює розкладку, у якій вводитиметься ваш пароль. Крім того, на панелі міститься область для служб входу до системи, де вони можуть розташовувати піктограми стану. Прикладами піктограм стану є піктограма акумулятора для показу поточного стану заряду акумулятора та піктограма для вмикання можливостей доступності. Також програма вітання забезпечує роботу кнопок, за допомогою яких користувач може вимикати або перезапускати систему. GDM можна налаштувати так, щоб кнопки вимикання і перезапуску не було показано, якщо ви так хочете. Крім того, GDM можна налаштувати з використанням PolicyKit (або RBAC у Oracle Solaris) так, щоб програма вимагала від користувача належного уповноваження у системі, перш ніж приймати запит щодо вимикання або перезапуску.</para>

      <para>Зауважте, що можливості розкладки клавіатури доступі лише у системах із підтримкою libxklavier.</para>
    </sect2>

    <sect2 id="accessibility">
      <title>Спеціальні можливості</title>

        <para>У GDM передбачено підтримку «Доступного входу», за допомогою якого користувачі можуть входити до сеансу стільничного середовища, навіть якщо їм непросто користуватися екраном, мишею або клавіатурою у звичайний спосіб. Можна скористатися можливостям доступних технологій, зокрема екранною клавіатура, засобом читання з екрана, екранною лупа та засобами доступності клавіатури AccessX Xserver. Також можна увімкнути збільшення тексту або висококонтрастні піктограми та засоби керування, якщо потрібно. Зверніться до розділу «Налаштовування доступності» цього підручника, щоб дізнатися більше про різноманітні можливості доступності, які можна налаштувати.</para>

        <para>У деяких операційних системах слід переконатися, що користувач GDM є учасником групи «audio», щоб програми доступності, які потребують виведення звукових даних (зокрема програми озвучення тексту) могли працювати належним чином.</para>
    </sect2>

    <sect2 id="facebrowser">
      <title>Переглядач портретів GDM</title>

      <para>Переглядач портретів — інтерфейс, за допомогою якого користувачі можуть вибирати обліковий запис клацанням на зображенні. Цю можливість можна увімкнути або вимкнути за допомогою ключа GSettings org.gnome.login-screen disable-user-list. Типово, її увімкнено. Якщо можливість вимкнено, користувачам доведеться вводити ім'я користувача повністю вручну. Якщо можливість увімкнено, буде показано список усіх локальних користувачів, від імені яких можна увійти до системи (усіх облікових записів користувачів, які визначено у файлі /etc/passwd, які мають коректний запис оболонки і достатньо велике значення UID), і віддалених користувачів, які нещодавно входили до системи. Переглядач портретів у GDM 2.20 та попередніх версіях намагався показати усіх віддалених користувачів, що спричиняло проблеми зі швидкодією у великих промислових конфігураціях.</para>

      <para>Переглядач портретів налаштовано на показ зображень користувачів, які найчастіше входять до системи, на початку списку. Це спрощує швидке знаходження потрібного зображення користувачами, які найчастіше працюють у системі.</para>

      <para>У Переглядачі портретів передбачено підтримку «випереджального пошуку під час введення» — алгоритму, який динамічно переводить позначення зображення паралельно із введенням користувачем відповідного імені користувача зі списку. Це означає, що користувач із довгим іменем може ввести лише декілька перших літер у назві облікового запису, а програма автоматично вибере належний пункт у списку.</para>

      <para>Піктограми, які використовуються у GDM може бути встановлено на загальносистемному рівні адміністратором системи або може бути знайдено у домашніх каталогах користувачів. Якщо піктограми встановлено на загальносистемному рівні, вони зберігатимуться у каталозі <filename>&lt;share&gt;/pixmaps/faces/</filename> під назвами, які збігаються із назвами облікових записів користувачів. Файли зображень облич мають бути звичайними зображеннями, які може читати GTK+, зокрема PNG або JPEG. Піктограми облич з загальносистемного каталогу облич мають бути придатними до читання користувачем GDM.</para>

<!--
<para>
        TODO - In the old GDM the ~/gnome2/gdm file is used, but the new code
               seems to use ~/.gnome/gdm.  Error?
</para>
-->
      <para>Якщо для користувача не буде знайдено загальносистемної піктограми, GDM виконає пошук файла зображення піктограми у каталозі $HOME користувача. Спочатку GDM шукатиме зображення обличчя користувача у <filename>~/.face</filename>. Якщо зображення не буде знайдено, програма спробує знайти його у <filename>~/.face.icon</filename>. Якщо і там зображення не буде знайдено, буде використано значення, яке визначено для «face/picture=» у файлі <filename>~/.gnome2/gdm</filename>.</para>

      <para>Якщо для користувача не визначено зображення обличчя, GDM скористається піктограмою «stock_person», яку визначено у поточній темі GTK+. Якщо таке зображення не визначено, програма скористається резервним типовим зображенням обличчя.</para>

      <para>Будь ласка, зауважте, що завантаження і масштабування піктограм облич, які зберігаються у віддалених домашніх каталогах користувачів є доволі витратним з точки зору часу. Оскільки завантаження зображень за допомогою NIS або NFS не є доцільним, GDM не робитиме спроб завантажити зображення облич з віддалених домашніх каталогів.</para>

      <para>Якщо переглядач увімкнено, коректні імена користувачів комп'ютера буде показано будь-кому. Якщо увімкнено XDMCP, імена користувачів буде показано віддаленим користувачам. Це, звичайно ж, дещо послаблює захист системи, оскільки зловмиснику не доведеться вгадувати коректні імена користувачів системи. У деяких середовищах із суворими правилами безпеки переглядач портретів може бути неприйнятним до використання.</para>

    </sect2>

    <sect2 id="xdmcp">
      <title>XDMCP</title>

<!--
<para>
        TODO - What XDMCP features actually work?   I know that the
               chooser is missing.
</para>
-->

      <para>Фонову службу GDM можна налаштувати на очікування та керування запитами X Display Manage Protocol (XDMCP) з віддалених комп'ютерів. Типово, підтримку XDMCP вимкнено, але, якщо потрібно, її можна увімкнути. Якщо GDM зібрано із підтримкою обгортки TCP, фонова служба надаватиме доступ лише вузлам, які вказано у розділі служби GDM у файлі налаштувань обгорток TCP.</para>

      <para>GDM включає декілька заходів, які роблять його більш стійким до атак типу «відмова у обслуговуванні» на службу XDMCP. Можна налаштувати значну кількість параметрів протоколу, час очікування з'єднання тощо. Типові налаштування мають добре працювати у більшості систем.</para>

      <para>Типово, GDM очікує на запити XDMCP на звичайному порту UDP, який використовується для XDMCP, порту 177, і відповідає на запити QUERY і BROADCAST_QUERY надсиланням пакета WILLING на комп'ютер, з якого походить запит.</para>

      <para>GDM можна налаштувати на обробку INDIRECT запитів та відображення селектора вузлів на віддаленому дисплеї. GDM запам'ятовує вибір користувача та пересилає наступні запити вибраному менеджеру. GDM також підтримує розширення до протоколу, яке змушує забути про перенаправлення одразу після успішного з'єднання користувача. Це розширення підтримується якщо з обох сторін сервери GDM. Розширення прозоре і ігнорується XDM та іншими серверами, що підтримують XDMCP.</para>

      <para>Якщо XDMCP не працює, переконайтеся, що усі адреси вказано у <filename>/etc/hosts</filename>.</para>

      <para>Зверніться до розділу «Безпека», щоб дізнатися більше про проблеми захисту при використанні XDMCP.</para>
    </sect2>

    <sect2 id="logging">
      <title>Реєстрація подій</title>

      <para>Для записування повідомлень щодо помилок і стану GDM використовує системний журнал (syslog). Крім того, програма може записувати діагностичний журнал, який може стати у пригоді для визначення причин проблем із неналежною роботою GDM. Увімкнути виведення діагностичних даних можна встановленням значення «true» для ключа debug/Enable у файлі <filename>&lt;etc&gt;/gdm/custom.conf</filename>.</para>

      <para>Виведені різноманітними серверами X дані зберігаються у каталозі журналу GDM, яким зазвичай є <filename>&lt;var&gt;/log/gdm/</filename>. Усі повідомлення сервера X зберігаються у файлі, який пов'язано зі значенням назви дисплея, <filename>&lt;дисплей&gt;.log</filename>.</para>

      <para>Дані, виведені сеансом, передаються каналом крізь фонову службу GDM до файла <filename>~/<replaceable>$XDG_CACHE_HOME</replaceable>/gdm/session.log</filename>, яким зазвичай є файл <filename>~/.cache/gdm/session.log</filename>. Файл перезаписується під час кожного входу до системи, отже вихід і вхід до того самого облікового запису за допомогою GDM призведе до втрати усіх повідомлень з попереднього сеансу.</para>

      <para>Зауважте, що якщо GDM з якоїсь причини не вдасться створити цей файл, буде створено файл із резервною назвою <filename>~/<replaceable>$XDG_CACHE_HOME</replaceable>/gdm/session.log.XXXXXXXX</filename>, де <filename>XXXXXXXX</filename> — якісь випадкові символи.</para>
    </sect2>

    <sect2 id="fusa">
      <title>Швидке перемикання користувачів</title>

      <para>GDM уможливлює одночасну роботу у системі декількох користувачів. Після входу до системи одного користувача додаткові користувачі можуть увійти за допомогою механізму перемикання користувачів з панелі GNOME або після натискання кнопки «Перемкнути користувача» у вікні блокування екрана засобу збереження екрана GNOME. Змінити активний сеанс можна за допомогою цього ж механізму. Зауважте, що у деяких дистрибутивах кнопку перемикання користувачів не додають до типової панелі. Додати цю кнопку можна за допомогою контекстного меню панелі.</para>
      <para>Зауважте, що доступ до цієї можливості надається у системах, де є підтримка віртуальних терміналів. Цією можливістю не можна буде скористатися, якщо у системі не реалізовано підтримку віртуальних терміналів.</para>
    </sect2>
  </sect1>

  <!-- ============= Security ================================= -->

  <sect1 id="security">
    <title>Безпека</title>

    <sect2 id="gdmuser">
      <title>Користувач і група GDM</title>

      <para>З міркувань безпеки, для належної роботи рекомендуємо створити спеціалізовані ідентифікатори користувача і групи. У більшості системи цим користувачем і групою є «gdm», але можна вказати будь-якого користувача і будь-яку групу. Усі програми GDM із графічним інтерфейсом буде запущено від імені цього користувача — усі програми, які взаємодіятимуть із користувачем буде запущено у певній «пісочниці». Відповідний користувач та група повинні мати доволі обмежені права доступу.</para>

      <para>Єдиними особливими правами доступу, які потрібні для роботи користувача «gdm», є можливості читання файлів Xauth з каталогу <filename>&lt;var&gt;/run/gdm</filename> і запису файлів до цього каталогу. Каталог <filename>&lt;var&gt;/run/gdm</filename> повинен належати користувачеві і групі root:gdm і мати права доступу 1777.</para>

      <para>За жодних обставин не налаштовуйте для користувача і групи GDM значення запису користувача, доступ до даних якого просто набути, зокрема користувача <filename>nobody</filename>. Будь-який користувач, який отримає доступ до ключа Xauth, може проникнути до системи і керувати запущеними програмами з графічним інтерфейсом, які запущено у пов'язаному сеансі або виконати атаку, метою якої є приведення системи у недієздатний стан. Важливо налаштувати систему належним чином, щоб до цих файлів мав доступу лише користувач «gdm», і утруднити вхід до системи з цього облікового запису. Наприклад, обліковий запис можна налаштувати так, щоб у нього не було пароля, і заборонити користувачам, відмінним від root, входити до облікового запису.</para>

      <para>Налаштування програми вітання GDM зберігаються у GConf. Щоб користувач GDM міг записувати налаштування, користувач «gdm» повинен мати придатний до запису каталог $HOME. Користувачі можуть вказати типові налаштування GConf бажаним чином, щоб уникнути потреби у наданні користувачеві «gdm» придатного до запису каталогу $HOME. Втім, деякі можливості GDM може бути вимкнено, якщо програм не зможе записувати дані щодо стану до налаштувань GConf.</para>
    </sect2>

    <sect2 id="PAM">
      <title>PAM</title>

      <para>GDM використовує для розпізнавання при вході PAM. PAM є абревіатурою від Pluggable Authentication Module («вставний модуль розпізнавання»). Ця система використовується у більшості програм, робота яких потребує розпізнавання на вашому комп'ютері. Система надає можливість адміністратору налаштувати специфічну поведінку розпізнавання для різних програм для входу до системи (зокрема ssh, графічної оболонки входу до системи, зберігача екрана тощо).</para>

      <para>PAM є складною і гнучкою у налаштуваннях системою — цю документацію не призначено для докладного її опису. Замість цього, ми обмежимося оглядом зв'язку налаштувань PAM із GDM, того, як PAM типово налаштовано для роботи з GDM, та відомих проблем. Ми очікуємо, що ті, хто хоче налаштувати PAM, ознайомляться із документацією до PAM для того, щоб зрозуміти, як налаштувати PAM, і ознайомитися із значенням термінів, які використано у цьому розділі.</para>
        
      <para>Налаштування PAM мають різні, але подібні, інтерфейси на різних операційних системах, тому вам слід ознайомитися із сторінкою підручника (man) <ulink type="help" url="man:pam.d">pam.d</ulink> or <ulink type="help" url="man:pam.conf">pam.conf</ulink>, щоб дізнатися більше. Прочитайте документацію з PAM і ознайомитеся із даними щодо зв'язку захисту системи із змінами, які ви маєте намір внести до налаштувань.</para>

      <para>Зауважте, що, типово, GDM використовує назву служби PAM «gdm» для звичайного входу до системи і назву служби PAM «gdm-autologin» для автоматичного входу системи. Ці служби не можна визначати у вашому pam.d або налаштованому файлі pam.conf. Якщо не буде запису, GDM використовуватиме типову поведінку PAM. У більшості систем усе в такому випадку працюватиме як слід. Втім, можливість автоматичного входу може не працювати, якщо службу gdm-autologin не буде визначено.</para>

      <para>Скрипт <filename>PostLogin</filename> запускається перед викликом pam_open_session, а скрипт <filename>PreSession</filename> запускається після нього. Це надає змогу системному адміністратору додати будь-які скриптові дії до процесу входу до системи до або після того, як PAM ініціалізує сеанс.</para>

      <para>Якщо ви хочете зробити так, щоб GDM працював із іншими типами механізмів розпізнавання (зокрема відбитками пальців або інструментарієм для читання SmartCard), вам слід реалізувати це використанням модуля служби PAM для бажаного типу розпізнавання, а не намагатися модифікувати код GDM безпосередньо. Зверніться до документації з PAM у вашій системі. Способи досягти цього часто обговорюються у списку листування <address><email>gdm-list@gnome.org</email></address>, тому вам слід звернутися до архівів цього списку, якщо ви хочете дізнатися більше.</para>

      <para>У PAM є деякі обмеження щодо можливості працювати зі декількома типами розпізнавання одночасно, зокрема підтримкою одночасної можливості приймати одночасно смарт-картку та можливості вводити ім'я користувача і пароль у програмі для входу до системи. Існують методики забезпечення працездатності таких схем, тому варто ознайомитися із типовими рішенням проблеми, якщо ви маєте намір скористатися подібними конфігураціями.</para>

      <para>Якщо у системі не працює автоматичний вхід, перевірте, чи визначено стек PAM «gdm-autologin» у налаштуваннях PAM. Щоб це спрацювало, необхідно скористатися модулем PAM, який просто не виконує розпізнавання або який просто повертає PAM_SUCCESS для усіх його загальнодоступних інтерфейсів. Припускаючи, що у вашій системі є модуль PAM pam_allow.so, який виконує це завдання, налаштування PAM для уможливлення роботи «gdm-autologin» мають виглядати якось так:</para>

<screen>
       gdm-autologin auth  required    pam_unix_cred.so.1
       gdm-autologin auth  sufficient  pam_allow.so.1
       gdm-autologin account  sufficient  pam_allow.so.1
       gdm-autologin session  sufficient  pam_allow.so.1
       gdm-autologin password  sufficient  pam_allow.so.1
</screen>

      <para>Якщо скористатися наведеними вище налаштуваннями, запис lastlog не буде створено. Якщо вам потрібен запис lastlog, скористайтеся таким для сеансу:</para>

<screen>
       gdm-autologin session required pam_unix_session.so.1
</screen>

      <para>Якщо комп'ютером користуються декілька осіб, що робить автоматичний вхід до системи непридатним, може виникнути потреба у забезпеченні входу до облікових записів деяких користувачів без введення пароля. Цю можливість можна увімкнути на рівні параметра запису користувача за допомогою програми users-admin з пакунка gnome-system-tools. Досягти потрібного результату можна перевіркою того, чи є користувач учасником групи Unix із назвою «nopasswdlogin» перед тим, як йому буде надіслано запит щодо пароля. Щоб це спрацювало, файл налаштувань PAM для служби «gdm» має включати рядок, подібний до такого:</para>

<screen>
      gdm auth  sufficient  pam_succeed_if.so  user ingroup nopasswdlogin
</screen>

    </sect2>

    <sect2 id="utmpwtmp">
      <title>utmp і wtmp</title>

      <para>GDM створює записи бази даних обліку користувачів utmp і wtmp під час входу і виходу з сеансу. База даних utmp містить дані щодо доступу користувачів та облікові дані, доступ до яких можна отримати за допомогою команд, подібних до <command>finger</command>, <command>last</command>, <command>login</command> і <command>who</command>. База даних wtmp містить журнал усіх дій з доступу користувачів та облікові дані з бази даних utmp. Зверніться до сторінок підручника (man) <ulink type="help" url="man:utmp">utmp</ulink> і <ulink type="help" url="man:wtmp">wtmp</ulink> у вашій системі, щоб дізнатися більше.</para>
    </sect2>

    <sect2 id="xauth">
      <title>Схема аутентифікації X-серверів</title>

      <para>Файл уповноваження сервера X під час запуску зберігаються у новоствореному каталозі <filename>&lt;var&gt;/run/gdm</filename>. Ці файли використовуються для зберігання і спільного використання «пароля» між клієнтами X і сервером X. Цей «пароль» є унікальним для кожного сеансу входу до системи, тому користувачі з одного сеансу не можуть проникнути до сеансів інших користувачів зі свого сеансу.</para>

      <para>GDM підтримує лише систему автентифікації MIT-MAGIC-COOKIE-1. Зазвичай від інших схем користі не набагато більше, тому до цих пір не було вжито зусиль для їх реалізації. При використанні XDMCP слід бути особливо обережним, тому що cookie передаються по мережі у незмінному вигляді. Якщо можливе прослуховування лінії зв'язку, тоді нападник може просто отримати ваш пароль під час реєстрації, незалежно від схеми автентифікації. Якщо прослуховування можливе але небажане, тоді використовуйте ssh для тунелювання X з'єднань, замість використання XDMCP. Ви можете розглядати XDMCP як графічний telnet, який має ті ж самі властивості безпеки. У більшості випадків слід надавати перевагу ssh -Y перед можливостями XDMCP GDM.</para>

    </sect2>

    <sect2 id="xdmcpsecurity">
      <title>Безпека XDCMP</title>

      <para>Хоча ваш дисплей захищено куками, XEvents і, отже, натискання клавіш при введенні паролів проходять крізь дроти з'єднання апаратури без шифрування. Доволі просто перехопити ці дані.</para>

      <para>Головним чином XDMCP використовується для тонких клієнтів у лабораторних умовах. Цім тонким клієнтам для доступу до сервера необхідна лише мережа, та, здається, найкращою політикою безпеки буде тримати їх у окремій мережі, до якої неможливо отримати доступ із зовнішнього світу, а зв'язок є лише з сервером. Єдиною точкою доступу до зовнішнього світу повинен бути сервер. У цьому типі налаштувань ніколи не слід використовувати некерований концентратор або іншу придатну до вивчення ззовні мережу.</para>

    </sect2>

    <sect2 id="xdmcpaccess">
      <title>Контроль доступу XDMCP</title>

      <para>Керування доступом XDMCP виконується за допомогою обгорток TCP. Можна зібрати GDM без підтримки обгортки TCP, тому у деяких операційних системах підтримки цієї можливості не передбачено.</para>

      <para>Вам слід використовувати назву фонової служби <command>gdm</command> у файлах <filename>&lt;etc&gt;/hosts.allow</filename> та <filename>&lt;etc&gt;hosts.deny</filename>. Наприклад, щоб заборонити доступ комп'ютерам з <filename>.evil.domain</filename> додайте </para>
<screen>
gdm: .evil.domain
</screen>
      <para>у файл <filename>&lt;etc&gt;/hosts.deny</filename>. Також можна додати</para>
<screen>
gdm: .your.domain
</screen>
      <para>у файл <filename>&lt;etc&gt;/hosts.allow</filename>, якщо ви вимикаєте усі служби з усіх вузлів. Докладнішу інформацію дивіться у man-сторінці <ulink type="help" url="man:hosts.allow">hosts.allow(5)</ulink>.</para>
    </sect2>

    <sect2 id="firewall">
      <title>Захист брандмауером</title>

      <para>Хоча GDM намагається ввести в оману потенційних нападників, рекомендується блокувати XDMCP (UDP порт 177) на вашому брандмауері, якщо він вам не потрібен. GDM протидіє DoS атакам (атаки типу відмови у обслуговуванні), але X протоколу властиві успадковані вади безпеки, тому його слід використовувати у контрольованому оточенні. Також кожне віддалене з'єднання споживає багато ресурсів, тому набагато простіше викликати відмову обслуговування XDMCP сервера, ніж, скажімо, у веб-сервера.</para>

      <para>Також буде розумно блокувати на брандмауері всі порти X сервера (TCP порт 6000 + номер дисплею). Зауважте, що різні частини GDM використовують дисплеї з номером 20 та більше (наприклад, при запуску серверів за вимогою).</para>

      <para>X не є дуже безпечним протоколом, якщо користуватися ним для зв'язку інтернетом, а XDMCP є ще менш безпечним протоколом.</para>
    </sect2>

    <sect2 id="policykit">
      <title>PolicyKit</title>

<!--
<para>
        TODO - Should we say more?
</para>
-->

      <para>GDM можна налаштувати на використання PolicyKit для уможливлення для системних адміністраторів керувати тим, чи надаватиме вікно входу до системи доступ до кнопок вимикання та перезапуску системи у вікні програми вітання.</para>

      <para>Ці кнопки керуються, відповідно, діями <filename>org.freedesktop.consolekit.system.stop-multiple-users</filename> і <filename>org.freedesktop.consolekit.system.restart-multiple-users</filename>. Правила для цих дій можна налаштувати за допомогою програми polkit-gnome-authorization або інструмента командного рядка polkit-auth.</para>
 
    </sect2>

    <sect2 id="rbac">
      <title>RBAC (Role Based Access Control)</title>

      <para>GDM можна налаштувати на використання RBAC замість PolicyKit. У цьому випадку для уможливлення для системних адміністраторів керувати тим, чи надаватиме вікно входу до системи доступ до кнопок вимикання та перезапуску системи у вікні програми вітання, буде використано RBAC.</para>

      <para>Наприклад, у Oracle Solaris для керування цим використовується уповноваження «solaris.system.shutdown». Просто внесіть зміни до файла <filename>/etc/user_attr</filename> так, щоб користувач «gdm» мав відповідне уповноваження.</para>
    </sect2>

  </sect1>

  <!-- ============= ConsoleKit ================================ -->

  <sect1 id="consolekit">
    <title>Підтримка ConsoleKit</title>

<!--
<para>
    TODO - Should we update these docs?  Probably should mention any 
           configuration that users may want to do for using it with GDM?
           If so, perhaps this section should be moved to a subsection of
           the "Configure" section?
</para>
-->

    <para>До GDM включено підтримку оприлюднення даних щодо входу користувачів та обліку сеансів у форматі бібліотеки, яка має назву ConsoleKit. ConsoleKit може стежити за усіма користувачами, які працюють у системі. У цьому сенсі нею можна скористатися як замінником файлів utmp і utmpx, які доступні у більшості Unix-подібних операційних системах.</para>

    <para>Коли GDM збирається створити процес входу до системи для користувача, програма викликає привілейований метод ConsoleKit з метою відкрити новий сеанс для цього користувача. На цей момент GDM також надає ConsoleKit відомості щодо цього сеанс користувача, зокрема такі: ідентифікатор користувача, показане ім'я X11, які буде пов'язано із сеансом, назву вузла, з якого походить сеанс (корисно у випадку сеансу XDMCP), чи є сеанс долученим тощо. Як елемент, який ініціює процес користувача, GDM перебуває в унікальному стані щодо визначення параметрів сеансу користувача і довіри для надання цієї частини даних. Використання цього привілейованого методу обмежено використанням правил безпеки каналу системних повідомлень D-Bus.</para>

    <para>Якщо користувач із наявним сеансом пройшов розпізнавання у GDM і надсилає запити щодо поновлення наявного сеансу, GDM викликає привілейований метод ConsoleKit для розблокування сеансу. Дії, які відбуваються, коли сеанс отримує цей сигнал розблокування, не визначено точно — вони залежать від сеансу. Втім, у більшості сеансів відбувається розблокування зберігача екрана.</para>

    <para>Якщо користувач виходить з облікового запису або якщо GDM або сеанс несподівано завершує роботу, реєстрацію сеансу користувача у ConsoleKit буде скасовано.</para>
  </sect1>

  <!-- ============= Configuration ============================= -->

  <sect1 id="configuration">
    <title>Налаштовування</title>

    <para>У GDM передбачено декілька інтерфейсів налаштовування. Серед них точки інтеграції скриптів, налаштовування фонових служб, налаштовування програми вітання, загальні параметри сеансу, налаштовування інтеграції gnome-settings-daemon та налаштовування сеансу. Ці типи інтеграції докладно описано нижче.</para>

    <sect2 id="scripting">
      <title>Точки інтеграції скриптів</title>
      
      <para>Точки інтеграції скриптів GDM можна знайти у каталозі <filename>&lt;etc&gt;/gdm/</filename>:</para>

<screen>
Xsession
Init/
PostLogin/
PreSession/
PostSession/
</screen>

      <para>Усі скрипти, <filename>Init</filename>, <filename>PostLogin</filename>, <filename>PreSession</filename> і <filename>PostSession</filename>, працюють у описаний нижче спосіб.</para>

      <para>Для кожного типу скриптів типовим, тим, який буде виконано, буде той, який називається «Default» і який зберігається у каталозі, пов'язаному із типом скрипту. Отже, типовим скриптом <filename>Init</filename> є <filename>&lt;etc&gt;/gdm/Init/Default</filename>. Можна створити окремий скрипт для дисплея, і, якщо він існує, його буде запущено замість типового скрипту. Такі скрипти зберігаються у тому самому каталозі, що і типовий скрипт, і мають таку саму назву, як значення змінної DISPLAY у сервері X для відповідного дисплея. Наприклад, якщо існує скрипт <filename>&lt;Init&gt;/:0</filename>, його буде запущено для DISPLAY ":0".</para>

     <para>Усі ці скрипти запускаються із правами доступу root і повертають 0, якщо їх виконано успішно, і ненульовий код повернення, якщо станеться якась помилка, яка спричинила переривання сеансу входу до системи. Також зауважте, що GDM блокуватиметься, аж доки скрипти не завершать роботу. Тому, якщо якийсь з цих скриптів повисне, це спричинить зависання процесу входу до системи.</para>

      <para>Коли сервер X для графічного інтерфейсу входу до системи вже запущено, але перед тим, як графічний інтерфейс входу буде показано, GDM запустить скрипт <filename>Init</filename>. Цей скрипт є корисним для запуску програм, які має бути запущено, доки відбувається показ вікна входу до системи, або виконання будь-якої спеціалізованої ініціалізації, якщо вона потрібна.</para>

      <para>Після того, як користувача буде успішно розпізнано, GDM запустить скрипт <filename>PostLogin</filename>. Це завдання виконується перед налаштовуванням будь-якого сеансу, зокрема перед викликом pam_open_session. Цей скрипт корисний для виконання будь-якої ініціалізації сеансу, яку має бути виконано перед його запуском. Наприклад, ви можете налаштувати каталог $HOME користувача, якщо у цьому є потреба.</para>

      <para>Після ініціалізації сеансу користувача GDM запустить скрипт <filename>PreSession</filename>. Цей скрипт корисний для виконання будь-якої ініціалізації сеансу, яку має бути виконано після того, як сеанс було ініціалізовано. Цим можна скористатися, наприклад, для керування сеансом або ведення обліку.</para>

      <para>Якщо користувач перериває свій сеанс, GDM запускає скрипт <filename>PostSession</filename>. Зауважте, що роботу сервера X на момент запуску цього скрипту буде припинено, тому до нього не буде доступу.</para>

      <para>Зверніть увагу, сценарій <filename>PostSession</filename> запускається навіть якщо дисплей завершився аварійно через помилку вводу/виводу або щось подібне. Тому, не гарантується, що X-програми працюватимуть при його виконанні.</para>

      <para>Усі згадані вище скрипти встановлюють для змінної середовища <filename>$RUNNING_UNDER_GDM</filename> значення <filename>yes</filename>. Якщо скрипти використовуються спільно із іншими програмами для керування дисплеєм, ця змінна надає вам змогу визначити, що скрипти викликає GDM, отже, ви можете наказувати системі виконувати певний код, якщо використано GDM.</para>
    </sect2>

    <sect2 id="autostart">
      <title>Налаштовування автозапуску</title>
      
      <para>У каталозі <filename>&lt;share&gt;/gdm/autostart/LoginWindow</filename> містяться файли у форматі, який визначається «FreeDesktop.org Desktop Application Autostart Specification». Стандартними можливостями з цієї специфікації можна скористатися для визначення програм, які має бути автоматично перезапущено або запущено, лише якщо встановлено значення налаштування GConf тощо.</para>

      <para>Буд-які файли <filename>.desktop</filename> у цьому каталозі спричинятимуть автоматичний запуск відповідної програми одночасно із графічним інтерфейсом програми входу до системи. Типово, GDM постачається із файлами, які автоматично запускають сам графічний інтерфейс входу до системи gdm-simple-greeter, програму gnome-power-manager, фонову службу gnome-settings-daemon та програму для керування вікнами metacity. Ці програми потрібні для забезпечення працездатності програми вітання. Крім того, передбачено файли desktop для запуску різноманітних засобів технологій доступності, якщо вказано відповідні значення параметрів налаштувань у розділі налаштовування доступності, описаному нижче.</para>
    </sect2>

    <sect2 id="xsessionscript">
      <title>Скрипт Xsession</title>

      <para>Також передбачено скрипт <filename>Xsession</filename>, який зберігається у каталозі <filename>&lt;etc&gt;/gdm/Xsession</filename> і викликається між скриптом <filename>PreSession</filename> і скриптом <filename>PostSession</filename>. У цьому скрипті не передбачено підтримки роботи із окремими дисплеями, подібно до інших скриптів. Цей скрипт використовується для самого запуску сеансу користувача. Скрипт запускається від імені користувача і працюватиме незалежно від сеансу, який було вказано за допомогою файла стільничного сеансу, вибраного користувачем при запуску.</para>
    </sect2>

    <sect2 id="daemonconfig">
      <title>Конфігурація сервера</title>

      <para>Налаштовування фонової служби GDM виконується за допомогою файла <filename>&lt;etc&gt;/gdm/custom.conf</filename>. Типові значення зберігаються у GConf у файлі <filename>gdm.schemas</filename>. Рекомендуємо кінцевим користувачам вносити зміни до файла <filename>&lt;etc&gt;/gdm/custom.conf</filename>, оскільки файл бази даних параметрів може бути перезаписано при оновленні користувачем системи з метою встановлення новішої версії GDM.</para>

      <para>Зауважте, що у застарілих версіях GDM було передбачено додаткові параметри налаштувань, підтримку яких у найновіших версіях GDM не реалізовано.</para>

      <para>Файл <filename>&lt;etc&gt;/gdm/custom.conf</filename> має синтаксис <filename>keyfile</filename>. Ключові слова у дужках визначають розділи груп, рядки перед знаком «дорівнює» (=) є ключами, а дані після знаку тотожності є їх значеннями. Порожні рядки або рядки, що починаються зі знаку (#) ігноруються.</para>

      <para>У файлі <filename>&lt;etc&gt;/gdm/custom.conf</filename> передбачено підтримку розділів груп «[daemon]», «[security]» та «[xdmcp]». У кожній групі записують певні пари ключ-значення, якими можна скористатися для зміни поведінки GDM. Наприклад, щоб увімкнути відкладений вхід і вказати користувача, для якого виконуватиметься цей відкладений вхід, як «you», вам слід внести зміни до цього файла так, щоб у ньому містилися такі рядки:</para>
     
<screen>
[daemon]
TimedLoginEnable=true
TimedLogin=you
</screen>

      <para>Нижче наведено повний список підтримуваних ключів налаштувань:</para>

      <sect3 id="choosersection">
        <title>[chooser]</title>
        <variablelist>

          <varlistentry>
            <term>Multicast</term>
            <listitem>
              <synopsis>Multicast=false</synopsis>
              <para>Якщо має значення true та увімкнено IPv6, селектор буде надсилати multicast-запити у локальну мережу та слухати відповідь від вузлів, які входять у multicast-групу.</para>
            </listitem>
          </varlistentry>
         
          <varlistentry>
            <term>MulticastAddr</term>
            <listitem>
              <synopsis>MulticastAddr=ff02::1</synopsis>
              <para>У цьому параметрі вказується multicast.</para>
            </listitem>
          </varlistentry>
        </variablelist>
      </sect3>

      <sect3 id="daemonsection">
        <title>[daemon]</title>
        <variablelist>
          <varlistentry>
            <term>TimedLoginEnable</term>
            <listitem>
              <synopsis>TimedLoginEnable=false</synopsis>
              <para>Чи має запускатись сеанс користувача, вказаного у параметрі <filename>TimedLogin</filename>, після певної кількості секунд (у параметрі <filename>TimedLoginDelay</filename>) відсутності активності у вікні входу. Використовується для терміналів загального доступу або навіть у домашньому використанні. Якщо користувач використовує клавіатуру або переглядає меню, відлік часу скидається на <filename>TimedLoginDelay</filename> або 30 секунд, в залежності від того яке значення більше. Якщо користувач не ввів ім'я а просто натиснув на клавішу ENTER, тоді GDM вважає що користувач бажає негайно увійти з іменем користувача відкладеного входу. Зауважте, при цьому не запитується пароль, тож будьте обережні,  хоча при використанні PAM можна налаштувати запит паролю перш, ніж дозволити вхід. Зверніться до розділу «Безпека-&gt;PAM» підручника, щоб дізнатися більше, або за додатковими відомостями, якщо ця можливість не працює.</para>
            </listitem>
          </varlistentry>

          <varlistentry>
            <term>TimedLogin</term>
            <listitem>
              <synopsis>TimedLogin=</synopsis>
              <para>Це назва облікового запису користувача, якого має бути впущено до системи після вказаної кількості секунд бездіяльності.</para>
              <para>Якщо значення завершуватиметься вертикальною рискою | (символом каналу), GDM виконає вказану програму і використає будь-яке повернуте нею до стандартного виведення значення як назву облікового запису користувача. Програму буде запущено із встановленою змінною середовища DISPLAY, тому можна вказати окремого користувача для окремого дисплея. Наприклад, якщо значенням є «/usr/bin/getloginuser|», буде запущено програму «/usr/bin/getloginuser» для отримання значення назви облікового запису користувача.</para>
            </listitem>
          </varlistentry>

          <varlistentry>
            <term>TimedLoginDelay</term>
            <listitem>
              <synopsis>TimedLoginDelay=30</synopsis>
              <para>Затримка у секундах, перш ніж користувача <filename>TimedLogin</filename> буде впущено до системи.</para>
            </listitem>
          </varlistentry>

          <varlistentry>
            <term>AutomaticLoginEnable</term>
            <listitem>
              <synopsis>AutomaticLoginEnable=false</synopsis>
              <para>Якщо вказано значення «true», користувача, якого вказано в <filename>AutomaticLogin</filename>, має бути впущено до системи негайно. Ця можливість рівноцінна відкладеному входу із затримкою у 0 секунд.</para>
            </listitem>
          </varlistentry>

          <varlistentry>
            <term>AutomaticLogin</term>
            <listitem>
              <synopsis>AutomaticLogin=</synopsis>
              <para>Це назва облікового запису користувача, якого має бути впущено до системи негайно, якщо <filename>AutomaticLoginEnable</filename> дорівнює «true».</para>
              <para>Якщо значення завершуватиметься вертикальною рискою | (символом каналу), GDM виконає вказану програму і використає будь-яке повернуте нею до стандартного виведення значення як назву облікового запису користувача. Програму буде запущено із встановленою змінною середовища DISPLAY, тому можна вказати окремого користувача для окремого дисплея. Наприклад, якщо значенням є «/usr/bin/getloginuser|», буде запущено програму «/usr/bin/getloginuser» для отримання значення назви облікового запису користувача.</para>
            </listitem>
          </varlistentry>

          <varlistentry>
            <term>User</term>
            <listitem>
              <synopsis>User=gdm</synopsis>
              <para>Ім'я користувача, від імені якого буде запущено програму вітання та інші програми із графічним інтерфейсом. Зверніться до опису ключа налаштувань <filename>Group</filename> та до розділу «Захист-&gt;Користувач і група GDM» цього документа, щоб дізнатися більше.</para>
            </listitem>
          </varlistentry>

          <varlistentry>
            <term>Group</term>
            <listitem>
              <synopsis>Group=gdm</synopsis>
              <para>Назва групи, від імені якої буде запущено програму вітання та інші програми із графічним інтерфейсом. Зверніться до опису ключа налаштувань <filename>User</filename> та до розділу «Захист-&gt;Користувач і група GDM» цього документа, щоб дізнатися більше.</para>
            </listitem>
          </varlistentry>
        </variablelist>
      </sect3>

      <sect3 id="debugsection">
        <title>Параметри налагоджування</title>
      
        <variablelist>
          <title>[debug]</title>
          
          <varlistentry>
            <term>Enable</term>
            <listitem>
              <synopsis>Enable=false</synopsis>
              <para>Щоб увімнути діагностику, встановіть для ключа debug/Enable значення «true» у файлі <filename>&lt;etc&gt;/gdm/custom.conf</filename> і перезапустіть GDM. Виведені діагностичні дані буде надіслано до файла журналу системи (<filename>&lt;var&gt;/log/messages</filename> або <filename>&lt;var&gt;/adm/messages</filename>, залежно від вашої операційної системи).</para>
            </listitem>
          </varlistentry>
        </variablelist>
      </sect3>

      <sect3 id="greetersection">
        <title>Параметри програми привітання</title>
      
        <variablelist>
          <title>[greeter]</title>
          
          <varlistentry>
            <term>IncludeAll</term>
            <listitem>
              <synopsis>IncludeAll=true</synopsis>
              <para>Якщо має значення «true», переглядач портретів показуватиме усіх користувачів локальної системи. Якщо має значення «false», переглядач портретів показуватиме лише користувачів, які нещодавно входили до системи.</para>

              <para>Якщо значенням цього ключа є «true», GDM викличе fgetpwent() для отримання списку локальних користувачів системи. Усіх користувачів із ідентифікатором користувача, який є меншим за 500 (або 100, якщо працюємо у Oracle Solaris), буде відфільтровано. Переглядач портретів також показуватиме усіх користувачів, які раніше входили до системи (наприклад, користувачів NIS/LDAP). Він отримуватиме цей список шляхом виклику інтерфейсу <command>ck-history</command> ConsoleKit. Він також відфільтровуватиме усіх користувачів, у яких немає належної командної оболонки (коректними вважаються усі оболонки, які повертає getusershell() — /sbin/nologin або /bin/false не вважаються некоректними, якщо їх повертає getusershell()).</para>

              <para>Якщо має значення «false», GDM показуватиме лише користувачів, які раніше входили до цієї системи (локальних або користувачів NIS/LDAP) за допомогою виклику інтерфейсу <command>ck-history</command> ConsoleKit.</para>
            </listitem>
          </varlistentry>

          <varlistentry>
            <term>Include</term>
            <listitem>
              <synopsis>Include=</synopsis>
              <para>Встановлюється у значення списку користувачів, яких завжди слід включати до переглядача портретів. Значення у списку слід відокремлювати комами. Типово, це значення є порожнім.</para>
            </listitem>
          </varlistentry>

          <varlistentry>
            <term>Exclude</term>
            <listitem>
              <synopsis>Exclude=bin,root,daemon,adm,lp,sync,shutdown,halt,mail,news,uucp,operator,nobody,nobody4,noaccess,postgres,pvm,rpm,nfsnobody,pcap</synopsis>
              <para>Встановлюється у значення списку користувачів, яких завжди слід виключати з переглядача портретів. Значення у списку слід відокремлювати комами. Зауважте, що параметр у <filename>custom.conf</filename> має пріоритет над типовим значенням. Тому, якщо ви хочете додати до списку записи користувачів, вам слід встановити типове значення з дописаними до списку додатковими користувачами.</para>
            </listitem>
          </varlistentry>
        </variablelist>
      </sect3>

      <sect3 id="securitysection">
        <title>Параметри безпеки</title>
      
        <variablelist>
          <title>[security]</title>
          
          <varlistentry>
            <term>DisallowTCP</term>
            <listitem>
              <synopsis>DisallowTCP=true</synopsis>
              <para>Якщо має значення «true», завжди дописувати <filename>-nolisten tcp</filename> до командного рядка при запуску долучених серверів X, таким чином забороняючи з'єднання TCP. Це безпечніша конфігурація, якщо ви не використовуєте віддалені з'єднання.</para>
            </listitem>
          </varlistentry>
        </variablelist>
      </sect3>

      <sect3 id="xdmcpsection">
        <title>Підтримка XDCMP</title>

        <variablelist>
          <title>[xdmcp]</title>
          
          <varlistentry>
            <term>DisplaysPerHost</term>
            <listitem>
              <synopsis>DisplaysPerHost=1</synopsis>
              <para>Щоб нападники не змогли наводнити запитами чергу очікування, GDM допускає одне з'єднання з одного віддаленого комп'ютера. Якщо ви бажаєте надавати дисплей комп'ютерам з більш ніж одним екраном, відповідно слід збільшити це значення.</para>

              <para>Зауважте, що кількість дозволених до долучення дисплеїв не обмежено. Цим параметром налаштувань обмежено лише кількість віддалених з'єднань за допомогою XDMCP.</para>
            </listitem>
          </varlistentry>

          <varlistentry>
            <term>Enable</term>
            <listitem>
              <synopsis>Enable=false</synopsis>
              <para>Встановлення значення у true вмикає підтримку XDMCP, що дозволяє керувати GDM віддаленими дисплеями/X-терміналами.</para>
            
              <para><filename>gdm</filename> очікує запити на UDP-порту 177. Докладніше дивіться у параметрі Port.</para>
              
              <para>Якщо GDM скомпільовано з бібліотекою tcp_wrapper, доступ з віддалених дисплеїв може контролюватись цією бібліотекою. Назва служби -  <filename>gdm</filename></para>
            
              <para>Вам слід додати <screen>
gdm:.my.domain
</screen> до файла <filename>&lt;etc&gt;/hosts.allow</filename>, в залежності від конфігурації бібліотеки TCP Wrappers. Докладнішу інформацію можна знайти у man-сторінці <ulink type="help" url="man:hosts.allow">hosts.allow</ulink>.</para>
              
              <para>Зауважте, що XDMCP не є безпечним протоколом, тому якщо ви не використовуєте UDP-порт 177, його краще заблокувати на вашому брандмауері.</para>
            </listitem>
          </varlistentry>
          
          <varlistentry>
            <term>HonorIndirect</term>
            <listitem>
              <synopsis>HonorIndirect=true</synopsis>
              <para>Дозволяє XDMCP INDIRECT вибір (тобто віддалене виконання <filename>gdmchooser</filename>) для X-терміналів, як не мають власної програми перегляду дисплеїв.</para>
            </listitem>
          </varlistentry>
        
          <varlistentry>
            <term>MaxPending</term>
            <listitem>
              <synopsis>MaxPending=4</synopsis>
              <para>Для запобігання атакам типу "відмова у доступі", GDM має фіксований розмір черги з'єднань. Одночасно можуть бути запущені лише MaxPending дисплеїв.</para>
            
              <para>Зауважте, що цей параметр не обмежує кількість віддалених дисплеїв, якими можна керувати. Обмежується лише кількість дисплеїв які одночасно ініціюють з'єднання.</para>
            </listitem>
          </varlistentry>
          
          <varlistentry>
            <term>MaxSessions</term>
            <listitem>
              <synopsis>MaxSessions=16</synopsis>
              <para>Визначає максимальну кількість одночасних з'єднань з віддаленими дисплеями. Тобто загальну кількість віддалених дисплеїв які використовуються на вашому вузлі.</para>
            </listitem>
          </varlistentry>
        
          <varlistentry>
            <term>MaxWait</term>
            <listitem>
              <synopsis>MaxWait=30</synopsis>
              <para>Коли GDM готовий керувати дисплеєм, йому надсилається пакет ACCEPT  який містить унікальний ідентифікатор сеансу, що використовується у майбутніх пакетах XDMCP.</para>
            
              <para>Потім GDM зберігає ідентифікатор сеансу у черзі, очікуючи відповіді від дисплея пакетом MANAGE.</para>
            
              <para>Якщо відповідь не надійшла протягом MaxWait секунд, GDM вважає дисплей мертвим та стирає його з черги очікування звільняючи слот для іншого дисплею.</para>
            </listitem>
          </varlistentry>
          
          <varlistentry>
            <term>MaxWaitIndirect</term>
            <listitem>
              <synopsis>MaxWaitIndirect=30</synopsis>
              <para>Параметр MaxWaitIndirect визначає максимальну кількість секунд між часом, коли користувач вибрав вузол та наступним непрямим запитом до вузла. При перевищенні інтервалу очікування, інформація про вибраний вузол забувається та слот непрямого запиту звільняється. Інформація може відкинутись раніше, якщо вузлів, що намагаються надіслати непрямі запити більше за <filename>MaxPendingIndirect</filename>.</para>
            </listitem>
          </varlistentry>
        
          <varlistentry>
            <term>PingIntervalSeconds</term>
            <listitem>
              <synopsis>PingIntervalSeconds=60</synopsis>
              <para>Якщо сервер X не надасть відповіді протягом вказаної кількості секунд, з'єднання буде припинено, а сеанс буде завершено. Якщо таке трапляється, фонова служба завершує роботу із сигналом ALARM. Зауважте, що у GDM 2.20 і попередніх версіях це значення множилося на 2, тому, можливо, слід збільшити час очікування після оновлення з GDM 2.20 і попередніх версій до новіших версій удвічі.</para>

              <para>Зауважте, що GDM у минулому мав ключ конфігурації <filename>PingInterval</filename>, який вказував час у хвилинах. Для більшості застосувань XDMCP не потрібно, щоб значення цього параметра було менше за одну хвилину, проте затримка більша за 15 секунд означатиме, що термінал вимкнений або перезавантажений, та вам слід завершити сеанс.</para>
            </listitem>
          </varlistentry>

          <varlistentry>
            <term>Port</term>
            <listitem>
              <synopsis>Port=177</synopsis>
              <para>Номер UDP-порту, на якому <filename>gdm</filename> очікуватиме XDMCP-запитів. Не змінюйте його, якщо ви не впевнені у наслідках своїх дій.</para>
            </listitem>
          </varlistentry>

          <varlistentry>
            <term>Willing</term>
            <listitem>
              <synopsis>Willing=&lt;etc&gt;/gdm/Xwilling</synopsis>
              <para>Коли сервер надсилає пакет WILLING у відповідь на QUERY, він надсилає рядок з поточним статусом цього сервера. Типовим повідомленням є системний ідентифікатор, але можна створити власний сценарій, який відображатиме власне повідомлення. Якщо цей сценарій не існує або цей ключ порожній - надсилається типове повідомлення. Якщо цей сценарій успішно виконується та виводить деякий текст, надсилається перший рядок цього тексту (та лише перший рядок). Він запускається максимум раз на 3 секунди для запобігання можливим атакам типу "відмова у доступі" шляхом затоплення його запитами QUERY.</para>
            </listitem>
          </varlistentry>
        </variablelist>
      </sect3>
    </sect2>

    <sect2 id="greeterconfiguration">
        <title>Проста конфігурація програми привітання</title>

        <para>Типова програма вітання GDM називається просто «Greeter» і налаштовується за допомогою GConf. Типові значення зберігаються у GConf у файлі <filename>gdm-simple-greeter.schemas</filename>. Ці типові параметри можна перевизначити, якщо у користувача «gdm» є придатний до запису каталог $HOME для зберігання параметрів GConf. Ці значення можна редагувати за допомогою програм <command>gconftool-2</command> та <command>gconf-editor</command>. Передбачено такі параметри налаштувань:</para>

        <variablelist>
          <title>Ключі конфігурації програми привітання</title>

          <varlistentry>
            <term>/apps/gdm/simple-greeter/banner_message_enable</term>
            <listitem>
              <synopsis>false (булеве)</synopsis>
              <para>Керує тим, чи буде показано текст повідомлення банера.</para>
            </listitem>
          </varlistentry>

          <varlistentry>
            <term>/apps/gdm/simple-greeter/banner_message_text</term>
            <listitem>
              <synopsis>NULL (рядок)</synopsis>
              <para>Вказує повідомлення текстового банера, яке слід показати у вікні привітання.</para>
            </listitem>
          </varlistentry>

          <varlistentry>
            <term>/apps/gdm/simple-greeter/disable_restart_buttons</term>
            <listitem>
              <synopsis>false (булеве)</synopsis>
              <para>Керує тим, чи буде показано кнопки перезапуску системи у вікні входу до системи.</para>
            </listitem>
          </varlistentry>

          <varlistentry>
            <term>/apps/gdm/simple-greeter/disable_user_list</term>
            <listitem>
              <synopsis>false (булеве)</synopsis>
              <para>Якщо має значення «true», у вікні входу до системи буде показано переглядач портретів зі списком усіх відомих користувачів.</para>
            </listitem>
          </varlistentry>

          <varlistentry>
            <term>/apps/gdm/simple-greeter/logo_icon_name</term>
            <listitem>
              <synopsis>computer (рядок)</synopsis>
              <para>Встановіть назву піктограми з теми, яку слід використати як логотип програми вітання.</para>
            </listitem>
          </varlistentry>

          <varlistentry>
            <term>/apps/gdm/simple-greeter/recent-languages</term>
            <listitem>
              <synopsis>[] (список рядків)</synopsis>
              <para>Встановлюється у значення списку мов, які типово буде показано у вікні входу до системи. Типовим значенням є «[]». З типовим значенням буде показано лише типову мову системи та пункт «Інші...», який відкриває діалогову панель із повним списком доступних мов, одну з яких може бути вибрано користувачем.</para>

              <para>Не рекомендуємо користувачам змінювати значення цього параметра вручну. Замість цього, GDM стежить за вибраними для цього ключа налаштувань мовами і показує їх у спадному списку разом із пунктом «Інші...». У такий спосіб спрощується вибір типових вибраних мов.</para>
            </listitem>
          </varlistentry>

          <varlistentry>
            <term>/apps/gdm/simple-greeter/recent-layouts</term>
            <listitem>
              <synopsis>[] (список рядків)</synopsis>
              <para>Встановлюється у значення списку розкладок клавіатури, які типово буде показано на панелі входу до системи. Типовим значенням є «[]». З типовим значенням буде показано лише типову розкладку клавіатури системи та пункт «Інші...», який відкриває діалогову панель із повним списком доступних розкладок клавіатури, одну з яких може бути вибрано користувачем.</para>

              <para>Не рекомендуємо користувачам змінювати значення цього параметра вручну. Замість цього, GDM стежить за вибраними для цього ключа налаштувань розкладками клавіатури і показує їх у спадному списку разом із пунктом «Інші...». У такий спосіб спрощується вибір типових вибраних розкладок клавіатури.</para>
            </listitem>
          </varlistentry>

          <varlistentry>
            <term>/apps/gdm/simple-greeter/wm_use_compiz</term>
            <listitem>
              <synopsis>false (булеве)</synopsis>
              <para>Керує тим, чи використовується compiz як програма для керування вікнами замість metacity.</para>
            </listitem>
          </varlistentry>
        </variablelist>
    </sect2>

    <sect2 id="accessibilityconfiguration">
     <title>Налаштовування спеціальних можливостей</title>

      <para>У цьому розділі описано параметри налаштування доступності, якими можна скористатися у GDM.</para>

      <sect3 id="accessibilitydialog">
        <title>Вікно доступності GDM і ключі GConf</title>

        <para>На панелі вітання GDM у вікні входу до системи буде показано піктограму доступності. Натисканням цієї піктограми можна відкрити діалогове вікно доступності GDM. У діалоговому вікні доступності GDM ви побачите список пунктів для вмикання або вимикання пов'язаних допоміжних інструментів.</para>

        <para>Пункт для позначення, які відповідають екранній клавіатурі, екранному збільшувальному склу та допоміжним інструментам читання з екрана працюють із трьома ключами GConf, які описано у наступному розділі цього документа. Позначенням цих пунктів або зняттям з них позначення можна встановити для пов'язаного ключа GConf значення «true» або «false». Якщо для ключа GConf встановлено значення «true», буде запущено допоміжні інструменти, пов'язані із цим ключем. Якщо для ключа GConf встановлено значення «false», роботу будь-якого допоміжного інструмента, пов'язаного із цим ключем GConf, буде перервано. Ці ключі GConf не буде автоматично скинуто до типового стану після входу користувача до системи. Отже, допоміжні інструменти, які було запущено під час останнього сеансу входу за допомогою GDM, буде також запущено під час наступного сеансу входу до системи за допомогою GDM.</para>

        <para>У інших пунктів діалогового вікна доступності GDM немає відповідних ключів у GConf, оскільки з ними не пов'язано додаткових програм, які запускаються для надання можливостей доступності. Ці інші пункти відповідають можливостями доступності, працездатність яких забезпечується сервером X, який завжди запускається під час сеансу GDM.</para>
      </sect3>

      <sect3 id="accessibilitygconfconfiguration">
        <title>Ключі доступності GConf</title>

        <para>У GDM передбачено вказані нижче ключі GConf для керування його можливостями доступності:</para>

        <variablelist>
          <title>Ключі налаштувань GDM</title>

          <varlistentry>
            <term>/desktop/gnome/interface/accessibility</term>
            <listitem>
              <synopsis>false (булеве)</synopsis>
              <para>Керує тим, чи буде запущено інфраструктуру доступності разом із графічним інтерфейсом GDM. Такий запуск потрібен для забезпечення працездатності багатьох програм, які пов'язано із технологіями доступності.</para>
            </listitem>
          </varlistentry>
          <varlistentry>
            <term>/desktop/gnome/applications/at/screen_magnifier_enabled</term>
            <listitem>
              <synopsis>false (булеве)</synopsis>
              <para>Якщо встановлено, разом із графічним інтерфейсом GDM буде запущено допоміжні інструменти, які пов'язано із цим ключем GConf. Типово, таким інструментом є екранне збільшувальне скло.</para>
            </listitem>
          </varlistentry>
          <varlistentry>
            <term>/desktop/gnome/applications/at/screen_keyboard_enabled</term>
            <listitem>
              <synopsis>false (булеве)</synopsis>
              <para>Якщо встановлено, разом із графічним інтерфейсом GDM буде запущено допоміжні інструменти, які пов'язано із цим ключем GConf. Типово, таким інструментом є екранна клавіатура.</para>
            </listitem>
          </varlistentry>
          <varlistentry>
            <term>/desktop/gnome/applications/at/screen_reader_enabled</term>
            <listitem>
              <synopsis>false (булеве)</synopsis>
              <para>Якщо встановлено, разом із графічним інтерфейсом GDM буде запущено допоміжні інструменти, які пов'язано із цим ключем GConf. Типово, таким інструментом є програма для читання тексту з екрана.</para>
            </listitem>
          </varlistentry>
        </variablelist>
      </sect3>

      <sect3 id="accessibilitytoolsconfiguration">
        <title>Пов'язування ключів GConf до інструментів доступності</title>

        <para>Для ключів GConf screen_magnifier_enabled, screen_keyboard_enabled, і screen_reader_enabled інструмент доступності, який буде запущено, залежить від файлів desktop, які зберігаються у каталозі автоматичного запуску GDM, як це описано у розділі «Налаштовування автозапуску» цього підручника. Будь-який файл desktop у каталозі автозапуску GDM можна пов'язати із цим ключем GConf за допомогою визначення цього ключа GConf у значенні AutostartCondition файла desktop. Отже, точний рядок AutostartCondition у файлі desktop може бути одним з таких:</para>

<screen>
AutostartCondition=GNOME /desktop/gnome/applications/at/screen_keyboard_enabled
AutostartCondition=GNOME /desktop/gnome/applications/at/screen_magnifier_enabled
AutostartCondition=GNOME /desktop/gnome/applications/at/screen_reader_enabled
</screen>

        <para>Якщо ключ доступності має значення «true», буде запущено будь-яку програму, яку пов'язано із цим ключем у файлі desktop автоматичного запуску GDM (якщо у цьому файлі desktop не встановлено значення «true» для ключа Hidden). Один ключ GConf може навіть запускати декілька допоміжних інструментів, якщо у каталозі автозапуску GDM зберігається декілька файлів desktop із відповідним значенням AutostartCondition.</para>
      </sect3>

      <sect3 id="accessibilitytoolexample">
        <title>Приклад внесення змін до налаштувань засобу спеціальних можливостей</title>

        <para>Наприклад, якщо GNOME постачається із GOK як типовою екранною клавіатурою, її можна замінити, якщо хочете, будь-якою іншою програмою. Щоб замінити GOK на екранну клавіатуру «onboard» і додатково активувати допоміжний інструмент «mousetweaks» для підтримки затриманого клацання, слід скористатися описаними нижче налаштуваннями.</para>

        <para>Створіть файл desktop для onboard і ще один для mousetweaks; наприклад, onboard.desktop і mousetweaks.desktop. Ці файли мають зберігатися у каталозі автоматичного запуску (autostart) GDM у форматі, який описано у розділі «Налаштовування автозапуску» цього документа.</para>

        <para>Нижче наведено приклад файла <filename>onboard.desktop</filename>:</para>

<screen>
[Desktop Entry]
Encoding=UTF-8
Name=Onboard Onscreen Keyboard
Comment=Use an on-screen keyboard
TryExec=onboard
Exec=onboard --size 500x180 -x 20 -y 10
Terminal=false
Type=Application
StartupNotify=true
Categories=GNOME;GTK;Accessibility;
AutostartCondition=GNOME /desktop/gnome/applications/at/screen_keyboard_enabled
</screen>

        <para>Нижче наведено приклад файла <filename>mousetweaks.desktop</filename>:</para>

<screen>
[Desktop Entry]
Encoding=UTF-8
Name=Software Mouse-Clicks
Comment=Perform clicks by dwelling with the pointer
TryExec=mousetweaks
Exec=mousetweaks --enable-dwell -m window -c -x 20 -y 240 
Terminal=false
Type=Application
StartupNotify=true
Categories=GNOME;GTK;Accessibility;
AutostartCondition=GNOME /desktop/gnome/applications/at/screen_keyboard_enabled
</screen>

        <para>Зауважте рядок із AutostartCondition, який пов'язує файли desktop із ключем GConf для екранної клавіатури.</para>

        <para>Щоб вимкнути запуск GOK, файл desktop для екранної клавіатури GOK слід вилучити або дезактивувати. Якщо цього не зробити, буде одночасно запущено onboard і GOK. Досягти потрібного результату можна вилученням файла gok.desktop з каталогу автозапуску GDM або додаванням ключа «Hidden=true» до файла gok.desktop.</para>

        <para>Після внесення цих змін GOK не запускатиметься, коли користувач активує екранну клавіатуру у сеансі GDM, — замість нього буде запущено onboard і mousetweaks.</para>
      </sect3>
    </sect2>

    <sect2 id="generalsessionconfig">
      <title>Параметри загального сеансу</title>
<!--
<para>
          TODO - I think this section should be expanded upon.  What specific
                 keys are of interest, or would some users be likely to want
                 to configure?  Also, would be good to be more specific about
                 how lock down management is handled.
</para>
-->
        <para>Програма вітання GDM використовує деякі з бібліотек, які використовуватиме і ваш стільничний сеанс. Отже, на його роботу впливають декілька параметрів GConf стільничного сеансу. Для кожного з таких параметрів програма вітання використовуватиме типове значення, якщо його не буде окремо перевизначено а) встановленими обов'язковими правилами GDM; б) обов'язковими правилами системи. GDM встановлює власні обов'язкові правила для блокування деяких параметрів з міркувань безпеки.</para>
    </sect2>

    <sect2 id="gnomesettingsdaemon">
      <title>Фонова служба параметрів GNOME</title>
<!--
<para>
          TODO - I think this section should be expanded upon.  What specific
                 keys are of interest, or would some users be likely to want
                 to configure?  Also, would be good to give a more complete
                 list of plugins that users might want to consider disabling.
                 Also, shouldn't we list the sound/active key in the Greeter
                 configuration setting?  Oddly I do not find this key used
                 in anything but the chooser in SVN.
</para>
-->

        <para>GDM вмикає такі додатки gnome-settings-daemon: a11y-keyboard, background, sound, xsettings.</para>

        <para>Ці додатки відповідають за фонове зображення, шрифт та параметри теми, озвучення подій тощо.</para>

        <para>Додатки можна вимкнути за допомогою GConf. Наприклад, якщо ви хочете вимкнути додаток озвучення, вимкніть такий ключ: <filename>/apps/gdm/simple-greeter/settings-manager-plugins/sound/active</filename>.</para>
    </sect2>

    <sect2 id="sessionconfig">
      <title>Налаштовування сеансу GDM</title>

      <para>Сеанси GDM визначаються за допомогою специфікації стільничних записів FreeDesktop.org, з якою можна ознайомитися за такою адресою: <ulink url="http://www.freedesktop.org/wiki/Specifications/desktop-entry-spec"> http://www.freedesktop.org/wiki/Specifications/desktop-entry-spec</ulink>.</para>

      <para>Типово, GDM встановлює файли desktop до каталогу <filename>&lt;share&gt;/xsessions</filename>. GDM шукатиме файли desktop у таких каталогах, за порядком пріоритетності: <filename>&lt;etc&gt;/X11/sessions/</filename>, <filename>&lt;dmconfdir&gt;/Sessions</filename>, <filename>&lt;share&gt;/xsessions</filename> і <filename>&lt;share&gt;/gdm/BuiltInSessions</filename>. Типово, для <filename>&lt;dmconfdir&gt;</filename> встановлено значення <filename>&lt;etc&gt;/dm/</filename>, якщо GDM не налаштовано на використання іншого каталогу за допомогою параметра «--with-dmconfdir».</para>

      <para>Сеанс можна вимкнути редагуванням файла desktop із додаванням такого рядка: <filename>Hidden=true</filename>.</para>

      <para>У файлах desktop GDM передбачено підтримку специфічного для GDM розширення, ключа із назвою «X-GDM-BypassXsession». Якщо цей ключ у файлі desktop не вказано, типовим значенням для нього вважається «false». Якщо для ключа у файлі desktop вказано значення «true», GDM запустить програму, яку вказано у ключі «Exec» файла desktop безпосередньо під час запуску сеансу користувача. GDM не запускатиме програму за допомогою скрипту <filename>&lt;etc&gt;/gdm/Xsession</filename>, це звична поведінка. Оскільки обхід скрипту <filename>&lt;etc&gt;/gdm/Xsession</filename> надає змогу уникнути налаштовування сеансу користувача зі звичайними системними параметрами та параметрами користувача, сеанси, які запущено у такий спосіб, корисні для діагностування проблем у системі або скриптах користувача, які можуть заважати можливості користувача розпочати сеанс.</para>

    </sect2>

    <sect2 id="userconfig">
      <title>Налаштовування сеансу користувача і мови GDM</title>
      <para>Типові параметри сеансу і вибір мов користувача зберігаються у файлі <filename>~/.dmrc</filename>. Коли користувач входить до системи вперше, програма створює цей файл із початковими параметрами користувача. Користувач може змінити типові значення простим зазначенням іншого значення при вході до системи. GDM запам'ятає внесені зміни для наступних входів до системи.</para>

      <para>Файл <filename>~/.dmrc</filename> є файлом у стандартному форматі <filename>INI</filename>. У ньому є один розділ із назвою <filename>[Desktop]</filename>, який містить два ключі: <filename>Session</filename> і <filename>Language</filename>.</para>

      <para>Ключ <filename>Session</filename> вказує базову назву файла <filename>.desktop</filename> сеансу, якою користувач бажає користуватися без суфікса назви <filename>.desktop</filename>. Ключ <filename>Language</filename> вказує на мову, якою типово хоче користуватися користувач. Якщо якогось із цих ключів не буде вказано, буде використано типове значення для системи. Файл, зазвичай, виглядає десь так:</para>

<screen>
[Desktop]
Session=gnome
Language=uk_UA.UTF-8
</screen>
    </sect2>

  </sect1>

  <!-- ============= GDM Commands ============================= -->

  <sect1 id="binaries">
    <title>Команди GDM</title>

    <sect2 id="sbindir_binaries">
      <title>Команди GDM адміністративного користувача</title>

      <para>У пакунку GDM передбачено такі програми у <filename>sbindir</filename>, які має бути запущено від імені користувача root:</para>

      <sect3 id="gdmcommandline">
        <title>Параметри командного рядка <command>gdm</command></title>

        <para><command>gdm</command> є основною фоновою службою, яка налаштовує графічне середовище для входу і запускає необхідні допоміжні програми.</para>

        <variablelist>
          <title>Параметри командного рядка <command>gdm</command></title>

          <varlistentry>
            <term>-?, --help</term>
            <listitem>
              <para>Виводить коротку довідку з переліком параметрів командного рядка.</para>
            </listitem>
          </varlistentry>

          <varlistentry>
            <term>--fatal-warnings</term>
            <listitem>
              <para>Зробити так, щоб попередження призводили до виходу з GDM.</para>
            </listitem>
          </varlistentry>

          <varlistentry>
            <term>--timed-exit</term>
            <listitem>
              <para>Вийти за 30 секунд. Корисно для діагностики.</para>
            </listitem>
          </varlistentry>

          <varlistentry>
            <term>--version</term>
            <listitem>
              <para>Вивести версію сервера GDM.</para>
            </listitem>
          </varlistentry>
        </variablelist>
      </sect3>

      <sect3 id="gdmrestartcommandline">
        <title>Параметри командного рядка <command>gdm-restart</command></title>

        <para><command>gdm-restart</command> зупиняє та перезапускає GDM, надсилаючи службі GDM сигнал HUP. Це призводить до негайного припинення усіх сеансів та виходу користувачів, що увійшли через GDM.</para>
      </sect3>

      <sect3 id="gdmsaferestartcommandline">
        <title>Параметри командного рядка <command>gdm-safe-restart</command></title>
  
        <para><command>gdm-safe-restart</command> зупиняє та перезапускає GDM надсилаючи службі GDM сигнал USR1. GDM перезапускається одразу після виходу усіх користувачів.</para>
      </sect3>

      <sect3 id="gdmstopcommandline">
        <title>Параметри командного рядка <command>gdm-stop</command></title>

        <para><command>gdm-stop</command> зупиняє GDM, надсилаючи службі GDM сигнал TERM.</para>
      </sect3>
    </sect2>
  </sect1>

  <!-- ============= Troubleshooting =========================== -->

  <sect1 id="troubleshooting">
    <title>Усунення проблем</title>
<!--
<para>
      TODO - any other tips we should add?  Might be useful to highlight any
             common D-Bus configuration issues?
</para>
-->

    <para>У цьому розділі наведено корисні підказки щодо забезпечення працездатності GDM. Загалом, якщо у вас виникають проблеми з користуванням GDM, ви можете надіслати повідомлення про ваду або повідомлення електронної пошти до списку листування gdm-list. Відомості щодо того, як це зробити, наведено у вступному розділі цього підручника.</para>

    <para>Якщо GDM не працює належним чином, завжди варто включити до звіту діагностичні відомості. Щоб увімкнути діагностику, встановіть для ключа debug/Enable значення «true» у файлі <filename>&lt;etc&gt;/gdm/custom.conf</filename> і перезапустіть GDM. Далі, використовуйте GDM до моменту, коли трапляється помилка, і діагностичні дані буде записано до загальносистемного файла журналу (<filename>&lt;var&gt;/log/messages</filename> або <filename>&lt;var&gt;/adm/messages</filename>, залежно від вашої операційної системи). Якщо ви ділитеся цими даним зі спільнотою GDM у звіті щодо вади або повідомленні електронної пошти, будь ласка, включайте лише пов'язані із GDM діагностичні дані, але увесь файл, оскільки він може бути доволі великим. Якщо ви не бачите у системному журналі ніяких даних GDM, вам варто налаштувати системний журнал (зверніться до сторінки підручника (man) щодо <ulink type="help" url="man:syslog">syslog</ulink>).</para>

    <sect2 id="wontstart">
      <title>GDM не запускається</title>

      <para>Існує багато проблем, які можуть призводити до неможливості запуску GDM, але у цьому розділі ми обговоримо декілька типових проблем і те, яким чином підходити до відстежування причин проблем із запуском GDM. Деякі проблеми спричиняють виведення GDM повідомлення про помилку або діалогового вікна при спробі запуску, але причину проблеми важко встановити, якщо GDM завершує роботу без будь-яких повідомлень.</para>

      <para>Спочатку, переконайтеся, що сервер X налаштовано належним чином. Файл налаштувань GDM містить у розділі [server-Standard] команду, яка використовується для запуску сервера X. Перевірте, чи працює ця команда у вашій системі. Запуск цієї команди з консолі має запускати сервер X. Якщо запустити сервер не вдається, проблему, ймовірно, пов'язано із вашими налаштуваннями сервера X. Зверніться до журналу помилок сервера X, щоб дізнатися про причини проблеми. Проблема може також полягати у тому, що ваш сервер X потребує для запуску інших параметрів командного рядка. Якщо це так, змініть команду запуску сервера X у файлі налаштувань GDM так, щоб вона відповідала вашій системі.</para>

      <para>Також переконайтеся, що каталог <filename>/tmp</filename> має належного власника і права доступу, і що файлова система комп'ютера не є переповненою. Проблеми із правами доступу і переповнена файлова система не дадуть запустити GDM.</para>
    </sect2>
  </sect1>

  <!-- ============= Application License ============================= -->

  <sect1 id="license">
    <title>Ліцензія</title>
    <para>Ця програма є вільною. Ви можете поширювати та змінювати її на умовах, викладених у <ulink type="help" url="gnome-help:gpl"><citetitle>GNU General Public License</citetitle></ulink>, що видана Free Software Foundation; або версії 2 ліцензії, або (на ваше розсуд довільної старшої версії.</para>
    <para>Ця програма поширюється з надією, що буде корисною, але БЕЗ БУДЬ_ЯКИХ ГАРАНТІЙ; навіть без неявної гарантії ПРИДАТНОСТІ ДО ПРОДАЖУ або ВІДПОВІДНОСТІ ПЕВНІЙ МЕТІ. Докладніше про це дивіться у <citetitle>GNU General Public License</citetitle>.</para>
    <para>Копію <citetitle>GNU General Public License</citetitle> включено як додаток до <citetitle>Підручника користувача GNOME</citetitle>. Крім того, ви можете отримати копію <citetitle>GNU General Public License</citetitle> від Free Software Foundation, відвідавши <ulink type="http" url="http://www.fsf.org">їхній вебсайт</ulink> або написавши до <address>
      Free Software Foundation, Inc.
      <street>51 Franklin Street, Fifth Floor</street>
      <city>Boston</city>, <state>MA</state> <postcode>02110-1301</postcode>
      <country>USA</country>
      </address></para>
  </sect1>
</article>
<!-- Keep this comment at the end of the file
Local variables:
mode: sgml
sgml-omittag:t
sgml-shorttag:t
sgml-minimize-attributes:nil
sgml-always-quote-attributes:t
sgml-indent-step:2
sgml-indent-data:t
sgml-parent-document:nil
sgml-exposed-tags:nil
sgml-local-catalogs:nil
sgml-local-ecat-files:nil
End:
-->
